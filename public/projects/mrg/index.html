<!DOCTYPE html>
<html lang="en" dir="ltr" class="scroll-smooth" data-default-appearance="dark"
  data-auto-appearance="true"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8" />
  
  <meta http-equiv="content-language" content="en" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  
  <title>Marine Robotics Group &middot; Keiji Imai</title>
  <meta name="title" content="Marine Robotics Group &middot; Keiji Imai" />
  
  <meta name="description" content="Collecting IMU data with a 6-axis arm" />
  
  
  
  <link rel="canonical" href="http://localhost:1313/projects/mrg/" />
  
  
  
  
  
  
  
  
  
  
  <link type="text/css" rel="stylesheet" href="/css/main.bundle.min.158323decd4da56719400422497f3c795e3f681f758eec2a7159353079ff9334acec7b735c543a877df58d04ee62b26ee000840db324dfe6f9b698a4f4691ce3.css"
    integrity="sha512-FYMj3s1NpWcZQAQiSX88eV4/aB91juwqcVk1MHn/kzSs7HtzXFQ6h331jQTuYrJu4ACEDbMk3&#43;b5tpik9Gkc4w==" />
  
  
  <script type="text/javascript" src="/js/appearance.min.516a16745bea5a9bd011138d254cc0fd3973cd55ce6e15f3dec763e7c7c2c7448f8fe7b54cca811cb821b0c7e12cd161caace1dd794ac3d34d40937cbcc9ee12.js"
    integrity="sha512-UWoWdFvqWpvQERONJUzA/TlzzVXObhXz3sdj58fCx0SPj&#43;e1TMqBHLghsMfhLNFhyqzh3XlKw9NNQJN8vMnuEg=="></script>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <script defer type="text/javascript" id="script-bundle" src="/js/main.bundle.min.efbf3b6b987689fffaf2d7b73173d2690c0279a04d444b0537a77d7f4ff6e6d493445400cb0cf56bc0f0f123e19f15394e63cae34e67f069bd013dd5c73df56e.js"
    integrity="sha512-7787a5h2if/68te3MXPSaQwCeaBNREsFN6d9f0/25tSTRFQAywz1a8Dw8SPhnxU5TmPK405n8Gm9AT3Vxz31bg==" data-copy="" data-copied=""></script>
  
  
  
  <script src="/lib/zoom/zoom.min.37d2094687372da3f7343a221a470f6b8806f7891aa46a5a03966af7f0ebd38b9fe536cb154e6ad28f006d184b294525a7c4054b6bbb4be62d8b453b42db99bd.js" integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S&#43;Yti0U7QtuZvQ=="></script>
  
  
  
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
  <link rel="manifest" href="/site.webmanifest" />
  
  
  
  
  
  
  
  <meta property="og:url" content="http://localhost:1313/projects/mrg/">
  <meta property="og:site_name" content="Keiji Imai">
  <meta property="og:title" content="Marine Robotics Group">
  <meta property="og:description" content="Collecting IMU data with a 6-axis arm">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="projects">
    <meta property="article:published_time" content="2023-08-05T00:00:00+00:00">
    <meta property="article:modified_time" content="2023-08-05T00:00:00+00:00">
    <meta property="og:image" content="http://localhost:1313/projects/mrg/featured.jpg">

  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="http://localhost:1313/projects/mrg/featured.jpg">
  <meta name="twitter:title" content="Marine Robotics Group">
  <meta name="twitter:description" content="Collecting IMU data with a 6-axis arm">

  
  <script type="application/ld+json">
  [{
    "@context": "https://schema.org",
    "@type": "Article",
    "articleSection": "Projects",
    "name": "Marine Robotics Group",
    "headline": "Marine Robotics Group",
    "description": "Collecting IMU data with a 6-axis arm",
    "abstract": "Collecting IMU data with a 6-axis arm",
    "inLanguage": "en",
    "url" : "http:\/\/localhost:1313\/projects\/mrg\/",
    "author" : {
      "@type": "Person",
      "name": ""
    },
    "copyrightYear": "2023",
    "dateCreated": "2023-08-05T00:00:00\u002b00:00",
    "datePublished": "2023-08-05T00:00:00\u002b00:00",
    
    "dateModified": "2023-08-05T00:00:00\u002b00:00",
    
    
    
    "mainEntityOfPage": "true",
    "wordCount": "1706"
  }]
  </script>


  
  
  
  
  

<script src="/lib/jquery/jquery.slim.min.b0dca576e87d7eaa5850ae4e61759c065786cdb6489d68fcc82240539eebd5da522bdb4fda085ffd245808c8fe2acb2516408eb774ef26b5f6015fc6737c0ea8.js" integrity="sha512-sNylduh9fqpYUK5OYXWcBleGzbZInWj8yCJAU57r1dpSK9tP2ghf/SRYCMj&#43;KsslFkCOt3TvJrX2AV/Gc3wOqA=="></script>






















  
  

<script async src="https://www.googletagmanager.com/gtag/js?id=G-ECNM3T7Q6V"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-ECNM3T7Q6V');
</script>



  
  
  <meta name="theme-color"/>
  
  
  
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
  <script>

    const firebaseConfig = {
      apiKey: "AIzaSyD0xTDmvxbRSFxbU6tJ5qSGt6UJ_fh9kng",
      authDomain: "AIzaSyD0xTDmvxbRSFxbU6tJ5qSGt6UJ_fh9kng",
      projectId: "kogappa-a2cb2",
      storageBucket: "kogappa-a2cb2.appspot.com",
      messagingSenderId: "681617388955",
      appId: "1:681617388955:web:48c64398c20691a43e5d3e",
      measurementId: "G-ECNM3T7Q6V"
    };

    var app = firebase.initializeApp(firebaseConfig);
    var db = firebase.firestore();
    var auth = firebase.auth();

  </script>
  
  
</head>
<body
  class="flex flex-col h-screen px-6 m-auto text-lg leading-7 max-w-7xl bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32 scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600">
  <div id="the-top" class="absolute flex self-center">
    <a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600"
      href="#main-content"><span
        class="font-bold text-primary-600 ltr:pr-2 rtl:pl-2 dark:text-primary-400">&darr;</span>Skip to main content</a>
  </div>
  
  
  <div style="padding-left:0;padding-right:0;padding-top:2px;padding-bottom:3px"
    class="main-menu flex items-center justify-between px-4 py-6 sm:px-6 md:justify-start space-x-3">
    
    <div class="flex flex-1 items-center justify-between">
        <nav class="flex space-x-3">

            
            <a href="/" class="text-base font-medium text-gray-500 hover:text-gray-900">Keiji Imai</a>
            

        </nav>
        <nav class="hidden md:flex items-center space-x-5 md:ml-12 h-12">

            
            
            
  <a href="/posts/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="">
        Posts
    </p>
</a>



            
            
  <a href="/projects/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="">
        Projects
    </p>
</a>



            
            
  <a href="/rants/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="">
        Rants
    </p>
</a>



            
            

            


            
            <button id="search-button" aria-label="Search" class="text-base hover:text-primary-600 dark:hover:text-primary-400"
                title="">
                

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


            </button>
            


            
            
            <div
                class="ltr:mr-14 rtl:ml-14 flex items-center">
                <button id="appearance-switcher" aria-label="Dark mode switcher" type="button" class="text-base hover:text-primary-600 dark:hover:text-primary-400">
                    <div class="flex items-center justify-center dark:hidden">
                        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>

  </span>


                    </div>
                    <div class="items-center justify-center hidden dark:flex">
                        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>

  </span>


                    </div>
                </button>
            </div>
            

        </nav>
        <div class="flex md:hidden items-center space-x-5 md:ml-12 h-12">

            <span></span>

            


            
            <button id="search-button-mobile" aria-label="Search" class="text-base hover:text-primary-600 dark:hover:text-primary-400"
                title="">
                

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


            </button>
            

            
            
            <button id="appearance-switcher-mobile" aria-label="Dark mode switcher" type="button" class="text-base hover:text-primary-600 dark:hover:text-primary-400" style="margin-right:5px">
                <div class="flex items-center justify-center dark:hidden">
                    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>

  </span>


                </div>
                <div class="items-center justify-center hidden dark:flex">
                    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>

  </span>


                </div>
            </button>
            

        </div>
    </div>
    <div class="-my-2 -mr-2 md:hidden">

        <label id="menu-button" class="block">
            
            <div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400">
                

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"/></svg>

  </span>


            </div>
            <div id="menu-wrapper" style="padding-top:5px;"
                class="fixed inset-0 z-30 invisible w-screen h-screen m-0 overflow-auto transition-opacity opacity-0 cursor-default bg-neutral-100/50 backdrop-blur-sm dark:bg-neutral-900/50">
                <ul
                    class="flex space-y-2 mt-3 flex-col items-end w-full px-6 py-6 mx-auto overflow-visible list-none ltr:text-right rtl:text-left max-w-7xl">

                    <li id="menu-close-button">
                        <span
                            class="cursor-pointer inline-block align-text-bottom hover:text-primary-600 dark:hover:text-primary-400">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>

  </span>

</span>
                    </li>

                    

                    
  <li class="mt-1">
    <a href="/posts/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="">
            Posts
        </p>
    </a>
</li>




                    

                    
  <li class="mt-1">
    <a href="/projects/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="">
            Projects
        </p>
    </a>
</li>




                    

                    
  <li class="mt-1">
    <a href="/rants/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="">
            Rants
        </p>
    </a>
</li>




                    

                </ul>
                
                

            </div>
        </label>
    </div>
</div>





  
  <div class="relative flex flex-col grow">
    <main id="main-content" class="grow">
      


<article>
  

  <header id="single_header" class="mt-5 max-w-prose">
    
    <ol class="text-sm text-neutral-500 dark:text-neutral-400 print:hidden">
  
  
    
  
    
  
  <li class="inline hidden">
    <a
      class="hover:underline decoration-neutral-300 dark:underline-neutral-600"
      href="/"
      >Keiji Imai</a
    ><span class="px-1 text-primary-500">/</span>
  </li>

  
  <li class="inline ">
    <a
      class="hover:underline decoration-neutral-300 dark:underline-neutral-600"
      href="/projects/"
      >Projects</a
    ><span class="px-1 text-primary-500">/</span>
  </li>

  
  <li class="inline hidden">
    <a
      class="hover:underline decoration-neutral-300 dark:underline-neutral-600"
      href="/projects/mrg/"
      >Marine Robotics Group</a
    ><span class="px-1 text-primary-500">/</span>
  </li>

</ol>


    
    <h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">
      Marine Robotics Group
    </h1>
    <div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden">
      





  
  







  







  



  











<div class="flex flex-row flex-wrap items-center">
  
  
  <time datetime="2023-08-05T00:00:00&#43;00:00">5 August 2023</time><span class="px-2 text-primary-500">&middot;</span><span title="Reading time">9 mins</span><span class="px-2 text-primary-500">&middot;</span><span>
  
  
    
    
      
      
        
        
      
      
    
  
  <span id="views_projects/mrg/index.md" class="animate-pulse inline-block text-transparent max-h-3 rounded-full mt-[-2px] align-middle bg-neutral-300 dark:bg-neutral-400" title="views">loading</span>
  <span class="inline-block align-text-bottom">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">
<path fill="currentColor" d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg>
  </span>

</span>
</span>
  

  
  
</div>








    </div>

    
    
    
    
    

    

    
      
      

      

      

    

  </header>
  
  <section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row">
    
     <div
      class="order-first lg:ml-auto px-0 lg:order-last ltr:lg:pl-8 rtl:lg:pr-8">
      <div class="toc ltr:pl-5 rtl:pr-5 print:hidden lg:sticky lg:top-10">

         <details open id="TOCView"
  class="toc-right mt-0 overflow-y-scroll overscroll-contain scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600 rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 hidden lg:block">
  <summary
    class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    Table of Contents
  </summary>
  <div
    class="min-w-[220px] py-2 border-dotted ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#introduction">Introduction</a></li>
    <li><a href="#supervisor">Supervisor</a></li>
    <li><a href="#project">Project</a></li>
    <li><a href="#the-robot">The Robot</a>
      <ul>
        <li><a href="#teach-pendant">Teach Pendant</a></li>
        <li><a href="#update-polyscope">Update Polyscope</a></li>
        <li><a href="#urcap">URCap</a></li>
        <li><a href="#calibration">Calibration</a></li>
      </ul>
    </li>
    <li><a href="#linux">Linux</a>
      <ul>
        <li><a href="#ubuntu">Ubuntu</a></li>
        <li><a href="#real-time-kernel">Real-time kernel</a></li>
      </ul>
    </li>
    <li><a href="#ros">ROS</a>
      <ul>
        <li><a href="#learning-ros">Learning ROS</a></li>
        <li><a href="#ros-install">ROS Install</a></li>
      </ul>
    </li>
    <li><a href="#imu">IMU</a>
      <ul>
        <li><a href="#mechanical">Mechanical</a></li>
        <li><a href="#ros-driver">ROS Driver</a></li>
        <li><a href="#orientation">Orientation</a></li>
        <li><a href="#odometry">Odometry</a></li>
        <li><a href="#biases">Biases</a></li>
      </ul>
    </li>
    <li><a href="#moveit">MoveIt</a>
      <ul>
        <li><a href="#ur3e-config">UR3E Config</a></li>
        <li><a href="#rviz">RViz</a></li>
        <li><a href="#python-scripts">Python Scripts</a></li>
      </ul>
    </li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</nav>
  </div>
</details>
<details class="toc-inside mt-0 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 lg:hidden">
  <summary
    class="py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    Table of Contents
  </summary>
  <div
    class="py-2 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#introduction">Introduction</a></li>
    <li><a href="#supervisor">Supervisor</a></li>
    <li><a href="#project">Project</a></li>
    <li><a href="#the-robot">The Robot</a>
      <ul>
        <li><a href="#teach-pendant">Teach Pendant</a></li>
        <li><a href="#update-polyscope">Update Polyscope</a></li>
        <li><a href="#urcap">URCap</a></li>
        <li><a href="#calibration">Calibration</a></li>
      </ul>
    </li>
    <li><a href="#linux">Linux</a>
      <ul>
        <li><a href="#ubuntu">Ubuntu</a></li>
        <li><a href="#real-time-kernel">Real-time kernel</a></li>
      </ul>
    </li>
    <li><a href="#ros">ROS</a>
      <ul>
        <li><a href="#learning-ros">Learning ROS</a></li>
        <li><a href="#ros-install">ROS Install</a></li>
      </ul>
    </li>
    <li><a href="#imu">IMU</a>
      <ul>
        <li><a href="#mechanical">Mechanical</a></li>
        <li><a href="#ros-driver">ROS Driver</a></li>
        <li><a href="#orientation">Orientation</a></li>
        <li><a href="#odometry">Odometry</a></li>
        <li><a href="#biases">Biases</a></li>
      </ul>
    </li>
    <li><a href="#moveit">MoveIt</a>
      <ul>
        <li><a href="#ur3e-config">UR3E Config</a></li>
        <li><a href="#rviz">RViz</a></li>
        <li><a href="#python-scripts">Python Scripts</a></li>
      </ul>
    </li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</nav>
  </div>
</details>

<script>

  var margin = 200;
  var marginError = 50;

  (function () {
    var $window = $(window);
    var $toc = $('#TOCView');
    var tocHeight = $toc.height();

    function onResize() {
      var windowAndMarginHeight = $window.height() - margin;
      if(tocHeight >= windowAndMarginHeight) {
        $toc.css("overflow-y", "scroll")
        $toc.css("max-height", (windowAndMarginHeight + marginError) + "px")
      } else {
        $toc.css("overflow-y", "hidden")
        $toc.css("max-height", "9999999px")
      }
    }

    $window.on('resize', onResize);
    $(document).ready(onResize);
  })();



</script>
   </div>
      </div>
      

      <div class="min-w-0 min-h-0 max-w-fit">
        
        


        <div class="article-content max-w-prose mb-20">
          

<h2 class="relative group">Introduction 
    <div id="introduction" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#introduction" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>In my freshman fall, I did a UROP (undergraduate research) at the <a href="https://marinerobotics.mit.edu/" target="_blank">Marine Robotics Group</a>, a lab that is pushing the boundaries of navigation and mapping for autonomous robots.</p>
<p>This post is meant to be a summary of my experience as well as documentation so that if you are working on something similar you can get a head start.</p>


<h2 class="relative group">Supervisor 
    <div id="supervisor" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#supervisor" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>My supervisor, <a href="https://alanpapalia.github.io/" target="_blank">Alan Papalia</a>, was the biggest reason I signed up for this UROP. I strongly believe that the best way to have a good UROP experience is finding a good mentor.</p>
<p>His <a href="https://arxiv.org/abs/2302.11614" target="_blank">research</a> is super cool (tldr he uses math to improve <a href="https://en.wikipedia.org/wiki/Simultaneous_localization_and_mapping" target="_blank">SLAM algorithms</a>) and he was the captain of <a href="https://motorsports.illinois.edu/our-cars-2/" target="_blank">Illini Motorsports</a>, the best internal combustion formula student team in the US.</p>
<p>More importantly, he&rsquo;s an amazing person and mentor. When I began the UROP, he sent me a writeup of his undergrad research philosophy. I&rsquo;ll do my best to summarize the main points:</p>
<p>Blog posts he sent that I strongly recommend (especially the first one)</p>
<ul>
<li><a href="https://rosewang2008.github.io/blog/2021/01/03/undergrad-research-advice.html" target="_blank">Rose Wang’s Blog Post: Dear future undergraduate researcher</a></li>
<li><a href="https://shashank-srikant.github.io/notes/aspiring-academics/" target="_blank">Shashank Srikant’s Post: Aspiring Academics</a></li>
<li><a href="https://willcrichton.net/notes/making-the-most-out-of-cmu/" target="_blank">Will Chrichton’s Post: Making the most out of CMU</a></li>
</ul>
<p>It&rsquo;s important to make a serious commitment on both sides. The undergrad should be independent and spend 12+ hours a week and the mentor should support the undergrad and help them make progress.</p>
<p>Peer-based interaction is important even if the undergrad knows way less than their supervisor. If the undergrad&rsquo;s ideas are always valued and respected, they can voice their opinions freely and there is a much more friendly and fun dynamic.</p>
<p>These are the characteristics you should look for in a UROP supervisor. Find someone who is committed to mentorship and values your ideas. You should also leave enough room in your schedule to make a contribution to the lab so you don&rsquo;t waste your mentor&rsquo;s time.</p>


<h2 class="relative group">Project 
    <div id="project" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#project" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>IMUs are critical for marine robotics because there is no GPS signal at the bottom of the ocean. Unfortunately, IMUs experience drift. The goal of my project is to reduce IMU drift by collecting IMU data using a 6-axis robot arm and training a machine learning model.</p>


<h2 class="relative group">The Robot 
    <div id="the-robot" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#the-robot" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>The robot I used is called the UR3e. I named it Armin.</p>
<p>
    <figure>
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /projects/mrg/images/armin_hu13216898328869463140.jpg 330w,
        /projects/mrg/images/armin_hu7806185997813328696.jpg 660w,
        /projects/mrg/images/armin_hu17484719171730232739.jpg 1024w,
        /projects/mrg/images/armin_hu8673338553839220875.jpg 2x"
        src="/projects/mrg/images/armin_hu7806185997813328696.jpg"
        alt="Robot"
      />
      
    </figure>
</p>
<p>The first thing I had to do was bolt the robot down to a table, which required buying some really long bolts because of how the base is designed.</p>


<h3 class="relative group">Teach Pendant 
    <div id="teach-pendant" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#teach-pendant" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>The robot comes with a tablet called a &ldquo;teach pendant&rdquo; that you can control the robot manually with. It&rsquo;s super easy to learn - just go to program and create waypoints (the easiest way to do this is with the freedrive option) and you can make the robot go back and forth between the points you set.</p>
<p>I used the teach pendant to make the following video within half an hour of setting up the robot:</p>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/6K7kBe3fC6g?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>



<h3 class="relative group">Update Polyscope 
    <div id="update-polyscope" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#update-polyscope" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>First you have to update PolyScope (the pendant software) to 5.5.1. <a href="https://www.universal-robots.com/articles/ur/documentation/legacy-download-center/" target="_blank">Here&rsquo;s</a> the universal robotics page on how to do that. Note the all caps and bolded text.</p>


<h3 class="relative group">URCap 
    <div id="urcap" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#urcap" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>Next you will want to install a URCap. A URCap is a block you can put in your teach pendant program that will allow you to control the robot through the ROS driver. To connect the robot to the PC, it&rsquo;s easiest to use the ethernet port inside the control box. <a href="https://github.com/UniversalRobots/Universal_Robots_ROS_Driver/blob/master/ur_robot_driver/doc/install_urcap_e_series.md" target="_blank">Here&rsquo;s</a> a guide on how to do that.</p>


<h3 class="relative group">Calibration 
    <div id="calibration" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#calibration" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>It&rsquo;s very important to get the robot calibration information so that the forward kinematics are accurate. Here is a <a href="https://github.com/UniversalRobots/Universal_Robots_ROS_Driver#extract-calibration-information" target="_blank">guide</a> on how to do this. There is more calibration information in the <a href="https://github.com/UniversalRobots/Universal_Robots_ROS_Driver#extract-calibration-information" target="_blank">main driver page</a>.</p>


<h2 class="relative group">Linux 
    <div id="linux" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#linux" aria-label="Anchor">#</a>
    </span>        
    
</h2>


<h3 class="relative group">Ubuntu 
    <div id="ubuntu" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#ubuntu" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>You&rsquo;ll want to install Ubuntu 18.04 on a laptop (preferably one with an ethernet port). It needs to be 18.04 because the <a href="https://github.com/UniversalRobots/Universal_Robots_ROS_Driver" target="_blank">Universal Robots ROS Driver</a> is only stable for ROS Melodic, which requires Ubuntu 18.04. I tried ROS Noetic with Ubuntu 20.04 and it gave me problems so I wouldn&rsquo;t recommend it. Switching to ROS Melodic and Ubuntu 18.04 made my life much easier. I also tried using WSL but that made connecting to the robot and IMU hard so I switched to one of the lab&rsquo;s spare laptops.</p>


<h3 class="relative group">Real-time kernel 
    <div id="real-time-kernel" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#real-time-kernel" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>It&rsquo;s recommended to install a real-time kernel, but it was giving me trouble and isn&rsquo;t necessary so I skipped it. Here&rsquo;s a <a href="https://github.com/UniversalRobots/Universal_Robots_ROS_Driver/blob/master/ur_robot_driver/doc/real_time.md" target="_blank">guide</a> on how to set up a real-time operating system.</p>


<h2 class="relative group">ROS 
    <div id="ros" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#ros" aria-label="Anchor">#</a>
    </span>        
    
</h2>


<h3 class="relative group">Learning ROS 
    <div id="learning-ros" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#learning-ros" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>ROS is a publisher-subscriber-based framework for using a bunch of different packages together. I learned how to use it by following the <a href="http://wiki.ros.org/ROS/Tutorials" target="_blank">official ROS Tutorials</a>, but I&rsquo;m not sure how much I can recommend this. Personally, the tutorials were quite dry and I think I could have learned what I needed to know on the fly much more easily.</p>


<h3 class="relative group">ROS Install 
    <div id="ros-install" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#ros-install" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>First, install ROS Melodic according to this <a href="http://wiki.ros.org/melodic/Installation/Ubuntu" target="_blank">guide</a>. Melodic is the only version that works with the universal robotics driver.</p>


<h2 class="relative group">IMU 
    <div id="imu" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#imu" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>I used the <a href="https://www.vectornav.com/products/detail/vn-100" target="_blank">Vectornav VN-100</a> IMU. It&rsquo;s an old model but pretty nice as far as IMUs go. Research grade IMUs are on the order of $1000.</p>


<h3 class="relative group">Mechanical 
    <div id="mechanical" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#mechanical" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>I 3D printed an adapter to mount it to Armin.</p>
<p>
    <figure>
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /projects/mrg/images/mrg_imu_hu14945939753577176965.jpg 330w,
        /projects/mrg/images/mrg_imu_hu5375980141733469612.jpg 660w,
        /projects/mrg/images/mrg_imu_hu6241060499303282544.jpg 1024w,
        /projects/mrg/images/mrg_imu_hu13281700991548180320.jpg 2x"
        src="/projects/mrg/images/mrg_imu_hu5375980141733469612.jpg"
        alt="IMU"
      />
      
    </figure>
</p>
<p>For cable management, I used some velcro straps as shown below:</p>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/HoC0hVFexUc?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>



<h3 class="relative group">ROS Driver 
    <div id="ros-driver" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#ros-driver" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>I used dawonn&rsquo;s <a href="https://github.com/dawonn/vectornav" target="_blank">Vectornav ROS driver</a>. Once you install it, you&rsquo;ll have to run the following line to allow the driver to access the USB port.</p>
<pre tabindex="0"><code>sudo chmod a+rw /dev/ttyUSB0
</code></pre><p>Then run</p>
<pre tabindex="0"><code>roslaunch vectornav vectornav.launch
</code></pre><p>to get the IMU data.</p>


<h3 class="relative group">Orientation 
    <div id="orientation" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#orientation" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>The data from the vectornav is in the <a href="http://docs.ros.org/en/noetic/api/sensor_msgs/html/msg/Imu.html" target="_blank">IMU message</a> format. Nicer IMUs integrate linear acceleration themselves and give you odometry messages as well, but the VN100 only gives you angular velocity and linear acceleration data.</p>
<p>I installed <a href="http://wiki.ros.org/imu_tools?distro=melodic" target="_blank">imu_tools</a>, a ROS package that applies some filters and fuses angular accelerations into an orientation.</p>
<p>You&rsquo;ll have to remap the IMU driver&rsquo;s topic to imu/data_raw for the imu_tools package to work. <a href="https://roboticsbackend.com/ros-topic-remap-example/" target="_blank">Here&rsquo;s</a> a guide on how to do that.</p>
<p>I used the following line (after running vectornav.launch) to get the orientation.</p>
<pre tabindex="0"><code>rosrun imu_filter_madgwick imu_filter_node --ros-args -p _use_mag:=false
</code></pre><p>Then</p>
<pre tabindex="0"><code>rosrun rviz rviz
</code></pre><p>allows you to visualize it. You&rsquo;ll want to install <a href="http://wiki.ros.org/rviz" target="_blank">rviz</a> if you haven&rsquo;t already. By the way, I don&rsquo;t know how many times I was confused that rviz wasn&rsquo;t working and the reason was that I had typed &ldquo;rvis&rdquo; instead of &ldquo;rviz.&rdquo; Visualize is not spelled &ldquo;vizualize&rdquo; so I feel like the Z was just thrown in by an edgy developer.</p>
<p>
  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExYTBiNzMyYzZlMmZmZmRlNjRmZTc3YTM4NTVkMTQwYTAxNWMyZWM1NiZjdD1n/jMMHcFw6jFR8zcQ9Fg/giphy.gif" alt="IMU" />
    
  </figure>
</p>


<h3 class="relative group">Odometry 
    <div id="odometry" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#odometry" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>I used the <a href="https://github.com/nadiawangberg/imu_to_odom" target="_blank">imu_to_odom package</a> to integrate linear accelerations. I had to install a bunch of obscure packages that ETH likes to use to get this to build.</p>
<p>I used the following line to run this package.</p>
<pre tabindex="0"><code>rosrun imu_to_odom imu_to_odom_node /uav/sensors/imu:=/imu/data
</code></pre>

<h3 class="relative group">Biases 
    <div id="biases" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#biases" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>IMU bias is the acceleration that the IMU sees when it is not moving. Since accelerations are integrated twice to get position, this noise adds up extremely quickly and can totally throw off odometry. To remove bias, I recorded two minutes of imu data when it was not moving and calculated the average bias.</p>
<p>The following line creates a rosbag with two minutes of IMU data.</p>
<pre tabindex="0"><code>rosbag record --duration=120 --output-name=bias.bag /imu/data
</code></pre><p>I did this with both the robot on and the robot off to see if there was a significant difference.
Here&rsquo;s the data with the robot off:

    <figure>
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /projects/mrg/images/robotoff_biases_hu3421567260253173061.png 330w,
        /projects/mrg/images/robotoff_biases_hu13076076124528993101.png 660w,
        /projects/mrg/images/robotoff_biases_hu10128490989071435063.png 1024w,
        /projects/mrg/images/robotoff_biases_hu14864520633221678942.png 2x"
        src="/projects/mrg/images/robotoff_biases_hu13076076124528993101.png"
        alt="robot off"
      />
      
    </figure>

and the robot on:

    <figure>
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /projects/mrg/images/roboton_biases_hu2770800153303749490.png 330w,
        /projects/mrg/images/roboton_biases_hu796089559823583461.png 660w,
        /projects/mrg/images/roboton_biases_hu10045416051460832801.png 1024w,
        /projects/mrg/images/roboton_biases_hu17879605860905566652.png 2x"
        src="/projects/mrg/images/roboton_biases_hu796089559823583461.png"
        alt="robot on"
      />
      
    </figure>
</p>
<p>I concluded that the difference in biases were marginal.

    <figure>
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /projects/mrg/images/bias_diffs_hu3773753823631038245.png 330w,
        /projects/mrg/images/bias_diffs_hu5454416078358559761.png 660w,
        /projects/mrg/images/bias_diffs_hu10347276557175566843.png 1024w,
        /projects/mrg/images/bias_diffs_hu536552451426852343.png 2x"
        src="/projects/mrg/images/bias_diffs_hu5454416078358559761.png"
        alt="Bias diffs"
      />
      
    </figure>
</p>


<h2 class="relative group">MoveIt 
    <div id="moveit" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#moveit" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>MoveIt is the software that plans out the arm&rsquo;s movements. This is way harder than it looks because 6-axis arms have joint positions called <a href="https://robohub.org/3-types-of-robot-singularities-and-how-to-avoid-them/" target="_blank">singularities</a> where the robot would have to move at infinite speed to move a small distance in certain directions. That&rsquo;s why you&rsquo;ll sometimes see really complicated arm trajectories - the planner is avoiding these singularities.</p>


<h3 class="relative group">UR3E Config 
    <div id="ur3e-config" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#ur3e-config" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>First, I followed MoveIt&rsquo;s <a href="http://docs.ros.org/en/melodic/api/moveit_tutorials/html/doc/setup_assistant/setup_assistant_tutorial.html" target="_blank">setup assistant tutorial</a> to create a UR3E config first.</p>
<p>If you&rsquo;ve done everything right, running the following command should give you the message &ldquo;Connected to robot and ready to receive move commands&rdquo;.</p>
<pre tabindex="0"><code>roslaunch ur3e_moveit_config move_group.launch
</code></pre>

<h3 class="relative group">RViz 
    <div id="rviz" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#rviz" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>The next step is to follow MoveIt&rsquo;s <a href="http://docs.ros.org/en/melodic/api/moveit_tutorials/html/doc/quickstart_in_rviz/quickstart_in_rviz_tutorial.html" target="_blank">RViz tutorial</a>. They use the Panda robot but you&rsquo;ll want to use the robot config you created in the previous section.</p>
<p>The following line launches the move group, which calculates trajectories for us.</p>
<pre tabindex="0"><code>roslaunch ur3e_moveit_config move_group.launch
</code></pre><p>The next line launches rviz with the UR3E MoveIt config.</p>
<pre tabindex="0"><code>roslaunch ur3e_moveit_config moveit_rviz.launch rviz_config:=$(rospack find ur3e_moveit_config)/launch/moveit.rviz
</code></pre><p>Using Rviz and MoveIt, you can make the robot move to any orientation you want.</p>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/US2L-SOqrEw?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>



<h3 class="relative group">Python Scripts 
    <div id="python-scripts" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#python-scripts" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>The next step is to get the robot to follow arbitrary trajectories. This will require making python scripts.</p>
<p>MoveIt has an <a href="http://docs.ros.org/en/melodic/api/moveit_tutorials/html/doc/move_group_python_interface/move_group_python_interface_tutorial.html" target="_blank">excellent tutorial</a> on how to do this.</p>
<p>You can build all kinds of trajectories, but watch out for singularities as they will get in the way of seemingly simple trajectories. Unfortunately, despite having 6 axes, a robot arm cannot always move in a straight line while maintaining tool orientation. Here&rsquo;s a spiral trajectory I made.</p>
<pre tabindex="0"><code>waypoints = []
r = 0.25
wpose = geometry_msgs.msg.Pose()
wpose.position.z = 0.3

for theta in range(360):
    wpose.position.x = r*math.cos(pi/180*theta)
    wpose.position.y = r*math.sin(pi/180*theta)
    wpose.position.z += 0.0005
    wpose.orientation.w = 1.0
    waypoints.append(copy.deepcopy(wpose))

plan, fraction = armin.move_group.compute_cartesian_path(waypoints, 0.01, 5.0)

armin.move_group.plan()

print(&#34;Press ENTER to execute the circular path&#34;)
raw_input()
armin.move_group.execute(plan, wait=True)
armin.move_group.stop()
armin.move_group.clear_pose_targets()
</code></pre><p>Here&rsquo;s the video of that trajectory (it includes some other simple waypoint trajectories that aren&rsquo;t included in the above code).</p>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/dK70y1p5Yvo?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>



<h2 class="relative group">Conclusion 
    <div id="conclusion" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#conclusion" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>My experience doing research at the Marine Robotics Group was fantastic. I owe this entirely to Alan, who was an incredible mentor. I would not have made the time to write this blog post if not for how well he treated me.</p>
<p>If you are considering undergraduate research, make sure to take a lighter courseload, especially if you do time consuming extracurriculars like FSAE. In fact, if you are doing a student build team, I would recommend saving research for a summer internship (or IAP if you&rsquo;re at MIT) because it was really hard for me to make a solid contribution to racecar and research at the same time.</p>
<p>If you take anything at all away from this blog post, read <a href="https://rosewang2008.github.io/blog/2021/01/03/undergrad-research-advice.html" target="_blank">Rose Wang&rsquo;s undergrad research advice</a> and remember this:</p>
<blockquote>
<p>Find a good project by finding a good supervisor.</p>
</blockquote>

          
          
          
        </div>
        
        

        
        

          
      </div>
     
      
      
        
        
          
          
        
      <script>
        var oid = "views_projects\/mrg\/index.md"
        var oid_likes = "likes_projects\/mrg\/index.md"
      </script>
      
      
      <script type="text/javascript" src="/js/page.min.0860cf4e04fa2d72cc33ddba263083464d48f67de06114529043cb4623319efed4f484fd7f1730df5abea0e2da6f3538855634081d02f2d6e920b956f063e823.js" integrity="sha512-CGDPTgT6LXLMM926JjCDRk1I9n3gYRRSkEPLRiMxnv7U9IT9fxcw31q&#43;oOLabzU4hVY0CB0C8tbpILlW8GPoIw=="></script>
      
  
    </section>
  <footer class="pt-8 max-w-prose print:hidden">

    
  
    
    
    
    <div class="pt-8">
      <hr class="border-dotted border-neutral-300 dark:border-neutral-600" />
      <div class="flex justify-between pt-3">
        <span>
          
            <a class="flex group mr-3" href="/projects/fwm/">
              <span
                class="mr-3 text-neutral-700 group-hover:text-primary-600 ltr:inline rtl:hidden dark:text-neutral dark:group-hover:text-primary-400"
                >&larr;</span
              >
              <span
                class="ml-3 text-neutral-700 group-hover:text-primary-600 ltr:hidden rtl:inline dark:text-neutral dark:group-hover:text-primary-400"
                >&rarr;</span
              >
              <span class="flex flex-col">
                <span
                  class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500"
                  >Front Wing Mounting</span
                >
                <span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400">
                  
                    <time datetime="2023-05-26T00:00:00&#43;00:00">26 May 2023</time>
                  
                </span>
              </span>
            </a>
          
        </span>
        <span>
          
            <a class="flex text-right group ml-3" href="/projects/mujin/">
              <span class="flex flex-col">
                <span
                  class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500"
                  >Mujin</span
                >
                <span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400">
                  
                    <time datetime="2023-09-01T00:00:00&#43;00:00">1 September 2023</time>
                  
                </span>
              </span>
              <span
                class="ml-3 text-neutral-700 group-hover:text-primary-600 ltr:inline rtl:hidden dark:text-neutral dark:group-hover:text-primary-400"
                >&rarr;</span
              >
              <span
                class="mr-3 text-neutral-700 group-hover:text-primary-600 ltr:hidden rtl:inline dark:text-neutral dark:group-hover:text-primary-400"
                >&larr;</span
              >
            </a>
          
        </span>
      </div>
    </div>
  


    
  </footer>
</article>

      <div id="top-scroller" class="pointer-events-none absolute top-[110vh] bottom-0 w-12 ltr:right-0 rtl:left-0">
  <a href="#the-top"
    class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 mb-16 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400"
    aria-label="Scroll to top" title="Scroll to top">
    &uarr;
  </a>
</div>
    </main><footer id="site-footer" class="py-10 print:hidden">
  
  
    
  
  <div class="flex items-center justify-between">

    
    
    <p class="text-sm text-neutral-500 dark:text-neutral-400">
      &copy;
      2024
      
    </p>
    

    
    
    <p class="text-xs text-neutral-500 dark:text-neutral-400">
      
      
      Powered by <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500"
        href="https://gohugo.io/" target="_blank" rel="noopener noreferrer">Hugo</a> &amp; <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500"
        href="https://blowfish.page/" target="_blank" rel="noopener noreferrer">Blowfish</a>
    </p>
    

  </div>
  <script>
    
    mediumZoom(document.querySelectorAll("img:not(.nozoom)"), {
      margin: 24,
      background: 'rgba(0,0,0,0.5)',
      scrollOffset: 0,
    })
    
  </script>
  
  
  <script type="text/javascript" src="/js/process.min.ee03488f19c93c2efb199e2e3014ea5f3cb2ce7d45154adb3399a158cac27ca52831db249ede5bb602700ef87eb02434139de0858af1818ab0fb4182472204a4.js" integrity="sha512-7gNIjxnJPC77GZ4uMBTqXzyyzn1FFUrbM5mhWMrCfKUoMdsknt5btgJwDvh&#43;sCQ0E53ghYrxgYqw&#43;0GCRyIEpA=="></script>
  
  
</footer>
<div
  id="search-wrapper"
  class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh]"
  data-url="http://localhost:1313/"
  style="z-index:500"
>
  <div
    id="search-modal"
    class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800"
  >
    <header class="relative z-10 flex items-center justify-between flex-none px-2">
      <form class="flex items-center flex-auto min-w-0">
        <div class="flex items-center justify-center w-8 h-8 text-neutral-400">
          

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


        </div>
        <input
          type="search"
          id="search-query"
          class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent"
          placeholder="Search"
          tabindex="0"
        />
      </form>
      <button
        id="close-search-button"
        class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"
        title="Close (Esc)"
      >
        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>

  </span>


      </button>
    </header>
    <section class="flex-auto px-2 overflow-auto">
      <ul id="search-results">
        
      </ul>
    </section>
  </div>
</div>

  </div>
</body>

</html>
